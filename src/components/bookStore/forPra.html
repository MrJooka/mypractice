<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div style="width: 100%; padding: 16px 0 16px 0; border-bottom: 1px solid">
      <div class="post-layout" style="display: grid; grid-template-columns: max-content 1fr">
        <div class="votecell post-layout--left" style="width: auto; padding-right: 16px; vertical-align: top; grid-column: 1">
          <div class="js-voting-container" style="color: rgb(187, 192, 196); flex-direction: column; justify-content: center; align-items: stretch; display: flex; margin: -2px">
            <button class="js-vote-up-btn" style="position: relative; display: inline-block; text-align: center; text-decoration: none; padding: 0; border: none; outline: none; font: unset; border-radius: 0; color: unset; background: none; box-shadow: none; user-select: auto; margin: 2px">
              <svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36" style="margin: 0; vertical-align: bottom"><path d="M2 26h32L18 10 2 26z" style="fill: currentColor"></path></svg>
            </button>

            <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" style="color: rgb(106, 115, 124); flex-direction: column; align-items: center; display: flex; font-size: 1.6rem; margin: 2px">4292</div>
            <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" style="position: relative; display: inline-block; text-align: center; text-decoration: none; padding: 0; border: none; outline: none; font: unset; border-radius: 0; color: unset; background: none; box-shadow: none; user-select: auto; margin: 2px">
              <svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36" style="margin: 0; vertical-align: bottom"><path d="M2 10h32L18 26 2 10z" style="fill: currentColor"></path>></path></svg>
            </button>

            <div class="js-accepted-answer-indicator grid--cell fc-green-500 py6 mtn8 d-none" data-s-tooltip-placement="right" title="Loading when this answer was accepted…" tabindex="0" role="note" aria-label="Accepted">
              <div class="ta-center">
                <svg aria-hidden="true" class="svg-icon iconCheckmarkLg" width="36" height="36" viewBox="0 0 36 36"><path d="M6 14l8 8L30 6v8L14 30l-8-8v-8z"></path></svg>
              </div>
            </div>

            <a class="js-post-issue grid--cell s-btn s-btn__unset c-pointer py6 mx-auto" href="/posts/11227877/timeline" data-shortcut="T" data-ks-title="timeline" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-label="Timeline" aria-describedby="--stacks-s-tooltip-9g5ondom">
              <svg aria-hidden="true" class="mln2 mr0 svg-icon iconHistory" width="19" height="18" viewBox="0 0 19 18"><path d="M3 9a8 8 0 113.73 6.77L8.2 14.3A6 6 0 105 9l3.01-.01-4 4-4-4h3L3 9zm7-4h1.01L11 9.36l3.22 2.1-.6.93L10 10V5z"></path></svg>
            </a>
            <div id="--stacks-s-tooltip-9g5ondom" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">
              Show activity on this post.
              <div class="s-popover--arrow"></div>
            </div>
          </div>
        </div>

        <div class="answercell post-layout--right">
          <div class="s-prose js-post-body" itemprop="text">
            <p><strong>Branch prediction.</strong></p>
            <p>With a sorted array, the condition <code>data[c] &gt;= 128</code> is first <code>false</code> for a streak of values, then becomes <code>true</code> for all later values. That's easy to predict. With an unsorted array, you pay for the branching cost.</p>
          </div>
          <div class="mt24">
            <div class="grid fw-wrap ai-start jc-end gs8 gsy">
              <time itemprop="dateCreated" datetime="2012-06-27T13:54:45"></time>
              <div class="grid--cell mr16" style="flex: 1 1 100px">
                <div class="js-post-menu pt2" data-post-id="11227877">
                  <div class="grid d-flex gs8 s-anchors s-anchors__muted fw-wrap">
                    <div class="grid--cell">
                      <a
                        href="/a/11227877/15605663"
                        rel="nofollow"
                        itemprop="url"
                        class="js-share-link js-gps-track"
                        title="Short permalink to this answer"
                        data-gps-track="post.click({ item: 2, priv: -1, post_type: 2 })"
                        data-controller="se-share-sheet s-popover"
                        data-se-share-sheet-title="Share a link to this answer"
                        data-se-share-sheet-subtitle="(Includes your user id)"
                        data-se-share-sheet-post-type="answer"
                        data-se-share-sheet-social="facebook twitter devto"
                        data-se-share-sheet-location="2"
                        data-se-share-sheet-license-url="https%3a%2f%2fcreativecommons.org%2flicenses%2fby-sa%2f3.0%2f"
                        data-se-share-sheet-license-name="CC BY-SA 3.0"
                        data-s-popover-placement="bottom-start"
                        aria-controls="se-share-sheet-2"
                        data-action=" s-popover#toggle se-share-sheet#preventNavigation s-popover:show->se-share-sheet#willShow s-popover:shown->se-share-sheet#didShow"
                        >Share</a
                      >
                      <div class="s-popover z-dropdown s-anchors s-anchors__default" style="width: unset; max-width: 28em" id="se-share-sheet-2">
                        <div class="s-popover--arrow"></div>
                        <div><span class="js-title fw-bold">Share a link to this answer</span> <span class="js-subtitle">(Includes your user id)</span></div>
                        <div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly="" /></div>
                        <div class="d-flex jc-space-between ai-center mbn4">
                          <button class="js-copy-link-btn s-btn s-btn__link">Copy link</button><a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license" class="js-license s-block-link" target="_blank" title="The current license for this post: CC BY-SA 3.0">CC BY-SA 3.0</a>
                          <div class="js-social-container d-none"></div>
                        </div>
                      </div>
                    </div>

                    <div class="grid--cell">
                      <a href="/posts/11227877/edit" class="js-suggest-edit-post js-gps-track" data-gps-track="post.click({ item: 6, priv: -1, post_type: 2 })" title="Revise and improve this post">Edit</a>
                    </div>

                    <div class="grid--cell">
                      <button type="button" id="btnFollowPost-11227877" class="s-btn s-btn__link js-follow-post js-follow-answer js-gps-track" data-gps-track="post.click({ item: 14, priv: -1, post_type: 2 })" data-controller="s-tooltip " data-s-tooltip-placement="bottom" data-s-popover-placement="bottom" aria-controls="" aria-describedby="--stacks-s-tooltip-inmqrzxi">Follow</button>
                      <div id="--stacks-s-tooltip-inmqrzxi" class="s-popover s-popover__tooltip pe-none" aria-hidden="true" role="tooltip">
                        Follow this answer to receive notifications
                        <div class="s-popover--arrow"></div>
                      </div>
                    </div>
                  </div>
                  <div class="js-menu-popup-container"></div>
                </div>
              </div>
              <div class="post-signature grid--cell fl0">
                <div class="user-info user-hover">
                  <div class="user-action-time">
                    <a href="/posts/11227877/revisions" title="show all edits to this post" class="js-gps-track" data-gps-track="post.click({ item: 4, priv: -1, post_type: 2 })">edited <span title="2020-06-20 09:12:55Z" class="relativetime">Jun 20 '20 at 9:12</span></a>
                  </div>
                  <div class="user-gravatar32">
                    <a href="/users/-1/community"
                      ><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32" class="bar-sm" /></div
                    ></a>
                  </div>
                  <div class="user-details">
                    <a href="/users/-1/community">Community</a><span class="mod-flair" title="moderator">♦</span>
                    <div class="-flair">
                      <span class="reputation-score" title="reputation score " dir="ltr">1</span><span title="1 silver badge" aria-hidden="true"><span class="badge2"></span><span class="badgecount">1</span></span
                      ><span class="v-visible-sr">1 silver badge</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="post-signature grid--cell fl0">
                <div class="user-info user-hover">
                  <div class="user-action-time">answered <span title="2012-06-27 13:54:45Z" class="relativetime">Jun 27 '12 at 13:54</span></div>
                  <div class="user-gravatar32">
                    <a href="/users/1011995/daniel-fischer"
                      ><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/Jca5Q.jpg?s=32&amp;g=1" alt="" width="32" height="32" class="bar-sm" /></div
                    ></a>
                  </div>
                  <div class="user-details" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                    <a href="/users/1011995/daniel-fischer">Daniel Fischer</a><span class="d-none" itemprop="name">Daniel Fischer</span>
                    <div class="-flair">
                      <span class="reputation-score" title="reputation score 174,447" dir="ltr">174k</span><span title="16 gold badges" aria-hidden="true"><span class="badge1"></span><span class="badgecount">16</span></span
                      ><span class="v-visible-sr">16 gold badges</span><span title="292 silver badges" aria-hidden="true"><span class="badge2"></span><span class="badgecount">292</span></span
                      ><span class="v-visible-sr">292 silver badges</span><span title="422 bronze badges" aria-hidden="true"><span class="badge3"></span><span class="badgecount">422</span></span
                      ><span class="v-visible-sr">422 bronze badges</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <span class="d-none" itemprop="commentCount">10</span>
        <div class="post-layout--right js-post-comments-component">
          <div id="comments-11227877" class="comments js-comments-container bt bc-black-075 mt12" data-post-id="11227877" data-min-length="15">
            <ul class="comments-list js-comments-list" data-remaining-comments-count="5" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">
              <li id="comment-40722655" class="comment js-comment" data-comment-id="40722655" data-comment-owner-id="538458" data-comment-score="131">
                <div class="js-comment-actions comment-actions">
                  <div class="comment-score js-comment-edit-hide">
                    <span title="number of 'useful comment' votes received" class="supernova">131</span>
                  </div>
                </div>
                <div class="comment-text js-comment-text-and-form">
                  <div class="comment-body js-comment-edit-hide">
                    <span class="comment-copy">Does branch prediction work better on sorted arrays vs. arrays with different patterns? For example, for the array --&gt; { 10, 5, 20, 10, 40, 20, ... } the next element in the array from the pattern is 80. Would this kind of array be sped up by branch prediction in which the next element is 80 here if the pattern is followed? Or does it usually only help with sorted arrays?</span>

                    –&nbsp;<a href="/users/538458/adam-freeman" title="1,161 reputation" class="comment-user">Adam Freeman</a>
                    <span class="comment-date" dir="ltr"
                      ><a class="comment-link" href="#comment40722655_11227877"><span title="2014-09-23 18:58:12Z, License: CC BY-SA 3.0" class="relativetime-clean">Sep 23 '14 at 18:58</span></a></span
                    >
                    <span title="this comment was edited 1 time">
                      <svg aria-hidden="true" class="va-text-bottom o50 svg-icon iconPencilSm" width="14" height="14" viewBox="0 0 14 14"><path d="M11.1 1.71l1.13 1.12c.2.2.2.51 0 .71L11.1 4.7 9.21 2.86l1.17-1.15c.2-.2.51-.2.71 0zM2 10.12l6.37-6.43 1.88 1.88L3.88 12H2v-1.88z"></path></svg>
                    </span>
                  </div>
                </div>
              </li>
              <li id="comment-41900025" class="comment js-comment" data-comment-id="41900025" data-comment-owner-id="3206624" data-comment-score="169">
                <div class="js-comment-actions comment-actions">
                  <div class="comment-score js-comment-edit-hide">
                    <span title="number of 'useful comment' votes received" class="supernova">169</span>
                  </div>
                </div>
                <div class="comment-text js-comment-text-and-form">
                  <div class="comment-body js-comment-edit-hide">
                    <span class="comment-copy">So basically everything I conventionally learned about big-O is out of the window? Better to incur a sorting cost than a branching cost?</span>

                    –&nbsp;<a href="/users/3206624/agrim-pathak" title="2,694 reputation" class="comment-user">Agrim Pathak</a>
                    <span class="comment-date" dir="ltr"
                      ><a class="comment-link" href="#comment41900025_11227877"><span title="2014-10-30 07:51:58Z, License: CC BY-SA 3.0" class="relativetime-clean">Oct 30 '14 at 7:51</span></a></span
                    >
                  </div>
                </div>
              </li>
              <li id="comment-41904388" class="comment js-comment" data-comment-id="41904388" data-comment-owner-id="1011995" data-comment-score="161">
                <div class="js-comment-actions comment-actions">
                  <div class="comment-score js-comment-edit-hide">
                    <span title="number of 'useful comment' votes received" class="supernova">161</span>
                  </div>
                </div>
                <div class="comment-text js-comment-text-and-form">
                  <div class="comment-body js-comment-edit-hide">
                    <span class="comment-copy">@AgrimPathak That depends. For not too large input, an algorithm with higher complexity is faster than an algorithm with lower complexity when the constants are smaller for the algorithm with higher complexity. Where the break-even point is can be hard to predict. Also, <a href="http://stackoverflow.com/questions/14023988/why-is-processing-a-sorted-array-slower-than-an-unsorted-array?lq=1">compare this</a>, locality is important. Big-O is important, but it is not the sole criterion for performance.</span>

                    –&nbsp;<a href="/users/1011995/daniel-fischer" title="174,447 reputation" class="comment-user">Daniel Fischer</a>
                    <span class="comment-date" dir="ltr"
                      ><a class="comment-link" href="#comment41904388_11227877"><span title="2014-10-30 10:14:12Z, License: CC BY-SA 3.0" class="relativetime-clean">Oct 30 '14 at 10:14</span></a></span
                    >
                  </div>
                </div>
              </li>
              <li id="comment-42224805" class="comment js-comment" data-comment-id="42224805" data-comment-owner-id="2047418" data-comment-score="84">
                <div class="js-comment-actions comment-actions">
                  <div class="comment-score js-comment-edit-hide">
                    <span title="number of 'useful comment' votes received" class="supernova">84</span>
                  </div>
                </div>
                <div class="comment-text js-comment-text-and-form">
                  <div class="comment-body js-comment-edit-hide">
                    <span class="comment-copy">When does branch prediction takes place? When does language will know that array is sorted? I'm thinking of situation of array that looks like: [1,2,3,4,5,...998,999,1000, 3, 10001, 10002] ? will this obscure 3 increase running time? Will it be as long as unsorted array?</span>

                    –&nbsp;<a href="/users/2047418/filip-bartuzi" title="5,017 reputation" class="comment-user">Filip Bartuzi</a>
                    <span class="comment-date" dir="ltr"
                      ><a class="comment-link" href="#comment42224805_11227877"><span title="2014-11-09 13:37:18Z, License: CC BY-SA 3.0" class="relativetime-clean">Nov 9 '14 at 13:37</span></a></span
                    >
                  </div>
                </div>
              </li>
              <li id="comment-42225007" class="comment js-comment" data-comment-id="42225007" data-comment-owner-id="1011995" data-comment-score="80">
                <div class="js-comment-actions comment-actions">
                  <div class="comment-score js-comment-edit-hide">
                    <span title="number of 'useful comment' votes received" class="supernova">80</span>
                  </div>
                </div>
                <div class="comment-text js-comment-text-and-form">
                  <div class="comment-body js-comment-edit-hide">
                    <span class="comment-copy">@FilipBartuzi Branch prediction takes place in the processor, below the language level (but the language may offer ways to tell the compiler what's likely, so the compiler can emit code suited to that). In your example, the out-of-order 3 will lead to a branch-misprediction (for appropriate conditions, where 3 gives a different result than 1000), and thus processing that array will likely take a couple dozen or hundred nanoseconds longer than a sorted array would, hardly ever noticeable. What costs time is i high rate of mispredictions, one misprediction per 1000 isn't much.</span>

                    –&nbsp;<a href="/users/1011995/daniel-fischer" title="174,447 reputation" class="comment-user">Daniel Fischer</a>
                    <span class="comment-date" dir="ltr"
                      ><a class="comment-link" href="#comment42225007_11227877"><span title="2014-11-09 13:49:37Z, License: CC BY-SA 3.0" class="relativetime-clean">Nov 9 '14 at 13:49</span></a></span
                    >
                  </div>
                </div>
              </li>
            </ul>
          </div>

          <div id="comments-link-11227877" data-rep="50" data-reg="true">
            <a class="js-add-link comments-link dno" title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”." href="#" role="button"></a>
            <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link" title="Expand to show all comments on this post" href="#" onclick="" role="button">Show <b>5</b> more comments</a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
